<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Opgave 2 - Dynamisk data</title>
    <style>
        #container {
            width: 50%;
            min-width: 400px;
            margin: 0 auto;
        }

        #barchart {
            border: 5px solid #000;
        }

        .line {
            stroke: #333;
        }

        .bar {
            stroke: #151583;
            stroke-width: 20;

        }

        text {
            font-size: 50%;
            font-family: sans-serif;
        }
    </style>
</head>

<body>

    <div id="container">

        <svg id="barchart" viewbox="0 0 300 210">
            <g class="bgr">
                <line class="line" x1="20" y1="190" x2="20" y2="20" />
                <line class="line" x1="20" y1="111" x2="290" y2="111" />
                <line class="line" x1="20" y1="20" x2="290" y2="20" />
                <line class="line" x1="20" y1="190" x2="290" y2="190" />

                <text x="12" y="190">0</text>
                <text x="7" y="113">50</text>
                <text x="3" y="25">100</text>

                <text x="37" y="200">jan</text>
                <text x="75" y="200">feb</text>
                <text x="115" y="200">mar</text>
                <text x="155" y="200">apr</text>


            </g>

            <g class="bars">
                <line class="bar" x1="40" y1="190" x2="40" y2="190" />
                <line class="bar" x1="80" y1="190" x2="80" y2="190" />
                <line class="bar" x1="120" y1="190" x2="120" y2="190" />
                <line class="bar" x1="160" y1="190" x2="160" y2="190" />


            </g>

        </svg>


    </div>




    <script>
        let data = [75, 40, 55, 30];

        document.querySelectorAll(".bars .bar").forEach((bar, i) => {
            bar.setAttribute("y2", (200 - (1.8 * data[i])));
            bar.setAttribute("data-value", data[i]);

        });

        document.querySelector(".bars").addEventListener("mouseover", e => {

            console.log(e.target.getAttribute("data-value"));

        });
    </script>
</body>

</html>